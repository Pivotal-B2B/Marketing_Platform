Perfect â€” this is a major UX and functional enhancement request for your Campaign Builder Module, covering both Email and Telemarketing experiences.
Below is a comprehensive new Section 23: Campaign Builder UI & Workflow Upgrade, detailing how to rebuild these modules for power, personalization, and usability, while integrating the new segmentation engine and role-based flows.

â¸»

23) Campaign Builder UI & Workflow Upgrade

23.1 Objectives
	â€¢	Deliver a modern, intuitive, step-by-step campaign builder for both Email and Telemarketing campaigns.
	â€¢	Provide an advanced HTML/Rich Text editor with personalization placeholders and dynamic preview.
	â€¢	Integrate the new audience filtering engine (same as Accounts/Contacts) to allow granular targeting.
	â€¢	Separate Agent Dashboard from Campaign Builder, ensuring managers handle creation while agents only see assigned calling queues.
	â€¢	Streamline pre-flight, QA, and campaign launch experience.

â¸»

23.2 Campaign Builder â€” Unified Design

Both Email and Telemarketing campaign creation flows follow a 5-step guided UI wizard, displayed in a side-stepped layout or horizontal progress bar style (e.g., Step 1 â†’ Step 5).

Step	Stage	Purpose
1	Audience Selection	Choose audience source (Segments, Lists, Domain Sets, or Advanced Filters).
2	Content & Setup	For Email: Template and personalization. For Telemarketing: Script and qualification.
3	Scheduling & Pacing	Define send time or call window, daily cap, throttling, timezone.
4	Compliance & Review	Verify unsubscribe block, DNC checks, quiet hours, frequency caps.
5	Summary & Launch	Final overview with audience size, pacing, compliance, and content preview.


â¸»

23.3 Step 1 â€” Advanced Audience Selection

Integrated Audience Filters

Uses the same filtering engine as Contacts and Accounts:
	â€¢	Supports all filter categories:
Contact Fields, Account Fields, Suppression Fields, Email Campaign Fields, Telemarketing Fields, QA Fields, Client Portal Fields, Lists, Segments.
	â€¢	Allows multi-condition AND/OR logic, nested grouping, and cross-entity conditions (e.g., â€œContacts where Account.industry = IT and Email Opened in last 30 daysâ€).
	â€¢	â€œSave as Segmentâ€ and â€œSave as Listâ€ buttons to preserve filters for reuse.

Data Preview
	â€¢	Live count with â€œView Sample Recordsâ€ button.
	â€¢	Pie chart of audience distribution (e.g., by title, region, industry).
	â€¢	Show excluded records due to suppression or invalid data.

â¸»

23.4 Step 2 â€” Content & Setup

A. Email Campaigns â€” Rich HTML Editor

Editor Features
	â€¢	Modes:
	â€¢	Design Mode: Drag-and-drop layout blocks (header, text, image, button, divider, footer).
	â€¢	Code Mode: Full HTML view with syntax highlighting and live preview.
	â€¢	Hybrid Mode: Switch freely without data loss.
	â€¢	Rich Text Controls: font family, size, alignment, links, images, icons, CTA buttons, custom colors.
	â€¢	Template Library: Save, clone, and load templates.
	â€¢	Dynamic Placeholders:
	â€¢	Contact placeholders: {{contact.first_name}}, {{contact.job_title}}, {{contact.city}}.
	â€¢	Account placeholders: {{account.name}}, {{account.industry}}.
	â€¢	Fallback support: {{contact.first_name|there}}.
	â€¢	Conditional Sections:
	â€¢	Show/hide blocks based on attribute conditions (e.g., â€œShow paragraph if account.industry = â€˜Financeâ€™â€).
	â€¢	Mandatory Compliance Blocks:
	â€¢	Auto-appended Unsubscribe link & company address (cannot be removed).

Content Personalization Sidebar

Right-side panel for inserting placeholders and logic snippets:
	â€¢	â€œInsert Placeholderâ€ dropdown grouped by entity.
	â€¢	â€œInsert Conditional Blockâ€ (if/else editor).
	â€¢	Preview toggle: choose sample contact to preview email rendering.

â¸»

B. Telemarketing Campaigns â€” Call Script Builder

Script Panel
	â€¢	Rich text with formatting, placeholders, hyperlinks, and section headers.
	â€¢	Version-controlled (each change tracked with timestamp and author).
	â€¢	Script preview in agent view identical to builder preview.

Qualification Questions Builder
	â€¢	Add field types: Dropdown, Radio, Checkbox, Text, Number, Date.
	â€¢	Define required/optional, tooltips, default values.
	â€¢	Save as â€œQualification Form Templateâ€ for reuse.

Integration
	â€¢	Qualification schema linked to QA portal â†’ data auto-passed on lead creation.
	â€¢	Agents see assigned script + form, cannot edit content (read-only).

â¸»

23.5 Step 3 â€” Scheduling & Pacing
	â€¢	Email:
	â€¢	Schedule date/time or â€œSend Now.â€
	â€¢	Set send throttling (max X emails/minute).
	â€¢	Timezone-based sends (e.g., local morning hours).
	â€¢	AI-suggested optimal send time (optional).
	â€¢	Telemarketing:
	â€¢	Call window (e.g., 9amâ€“6pm per timezone).
	â€¢	Max concurrent calls per agent.
	â€¢	Frequency cap (max calls per contact per X days).
	â€¢	Assign agent teams or auto-assign dynamically by availability.

â¸»

23.6 Step 4 â€” Compliance & Review
	â€¢	Runs automated pre-flight checklist:
	â€¢	âœ… Valid emails/phones only.
	â€¢	âœ… DNC and Unsubscribe compliance verified.
	â€¢	âœ… Consent basis present (or legitimate interest).
	â€¢	âœ… Sender Profile (email) or SIP (phone) validated.
	â€¢	âœ… Suppression applied.
	â€¢	Display total included, excluded, and suppressed counts.
	â€¢	For Email â†’ ensure Unsubscribe URL + address visible.
	â€¢	For Calls â†’ ensure Call Recording consent enabled if jurisdiction requires it.

â¸»

23.7 Step 5 â€” Summary & Launch
	â€¢	Display:
	â€¢	Audience Summary: size, filters, exclusions.
	â€¢	Content Summary: template name, subject line, preview.
	â€¢	Schedule Summary: start date/time, pacing.
	â€¢	Compliance Status: all checks passed.
	â€¢	Action Buttons:
	â€¢	â€œLaunch Nowâ€
	â€¢	â€œSave as Draftâ€
	â€¢	â€œSend Test Emailâ€ / â€œMake Test Callâ€
	â€¢	Post-launch: progress indicators for sent/delivered/called counts.

â¸»

23.8 Separation of Roles

Function	Campaign Manager	Agent
Create/Edit Campaign	âœ…	ğŸ”’
Configure Audience	âœ…	ğŸ”’
Edit Script/Template	âœ…	ğŸ”’
View Agent Queue	ğŸ”’	âœ…
Record Disposition	ğŸ”’	âœ…
Access QA View	âœ… (limited)	ğŸ”’

Agents now see only their assigned campaigns via a separate â€œMy Callsâ€ dashboard, not the campaign creation UI.

â¸»

23.9 Technical Integration Notes
	â€¢	Email Editor: TinyMCE / GrapesJS hybrid with server-side sanitization and placeholder parser.
	â€¢	Dynamic Preview: Render test template using sample contact JSON (API endpoint /templates/render).
	â€¢	Audience Filters: Shared filter component reused from Contacts/Accounts with field registry sync.
	â€¢	Telemarketing Creation: Replace existing â€œAgent Screenâ€ with Managerâ€™s Campaign Builder; route /telemarketing/create uses the 5-step builder.
	â€¢	Campaign Previews: Async call to /audience/preview for live record count.
	â€¢	Versioning: Save campaign at each step; restore from drafts.

â¸»

23.10 Acceptance Criteria

âœ… Email Campaign Builder shows full drag-drop HTML editor with personalization.
âœ… Dynamic placeholders work across Contact and Account fields.
âœ… Advanced audience filter builder identical to Accounts/Contacts.
âœ… Telemarketing creation page accessible only to managers (not agents).
âœ… Agent screen appears only in â€œMy Calls.â€
âœ… Step-based builder with progress indicator implemented.
âœ… Compliance checks pass before allowing â€œLaunch.â€
âœ… Live preview and test-send/test-call functional.

â¸»

Would you like me to add this as Section 23: Campaign Builder UI & Workflow Upgrade to your PRD, right after Section 22 (Menu Architecture)?